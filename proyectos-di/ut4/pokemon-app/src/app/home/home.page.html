<ion-header [translucent]="false">
  <ion-toolbar color="primary">
    <ion-title>
      Pokédex Pro
    </ion-title>
  </ion-toolbar>
  <ion-toolbar color="primary">
    <ion-searchbar [(ngModel)]="searchText" (ionInput)="filterPokemon()" placeholder="Busca un Pokémon..."
      animated="true" class="custom-search">
    </ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="background-gradient"></div>

  <ion-grid>
    <ion-row>
      <ion-col size="6" size-md="4" size-lg="2" *ngFor="let pokemon of filteredPokemon">
        <ion-card [routerLink]="['/detail', pokemon.name]" class="pokemon-card">
          <div class="card-image-bg">
            <img [src]="getPokemonImage(pokemon.url)" [alt]="pokemon.name" />
          </div>
          <ion-card-header>
            <ion-card-subtitle>#{{ pokemon.id | number:'3.0-0' }}</ion-card-subtitle>
            <ion-card-title>{{ pokemon.name | titlecase }}</ion-card-title>
            <div class="type-container">
              <ion-badge *ngFor="let type of pokemon.types" [ngClass]="getTypeClass(type.type.name)"
                class="tiny-type-badge">
                {{ type.type.name }}
              </ion-badge>
            </div>
          </ion-card-header>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-infinite-scroll (ionInfinite)="loadPokemon($event)">
    <ion-infinite-scroll-content loadingText="Cargando más Pokémon..." loadingSpinner="bubbles">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>